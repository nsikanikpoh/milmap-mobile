<!--
  Generated template for the EditprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
    <ion-navbar>
       
            <ion-title>Edit Profile</ion-title>
    </ion-navbar>
  </ion-header>

<ion-content padding>

    <ion-list margin-bottom padding-bottom>
      <section text-center class="profile-picture" (click)="selectImage()">
        <span class="profile-picture__icon">
          <ion-icon name="md-create"></ion-icon>
        </span>
        <img *ngIf="image" src="{{image}}" class="profile-picture__image" alt="Profile Picture">
        <img *ngIf="!image" src="https://milmap.actionaid-ngr.org:3443/{{userDetails.image.url}}" class="profile-picture__image" alt="Profile Picture">
      </section>
      </ion-list>

      <ion-card-content>  
        <form novalidate (ngSubmit)="save()" [formGroup]="signinform">  
  <ion-list no-lines>
      <div class="spacer" style="height: 10px;"></div>
      <ion-item>
          <ion-input value="{{userDetails.name}}"  [(ngModel)]="account.name" type="text" formControlName="name" [class.error1]="!signinform.controls.name.valid && signinform.controls.name.dirty"></ion-input>
        </ion-item>

  <ion-item no-lines *ngIf="( signinform.get('name').hasError('minlength') || signinform.get('name').hasError('maxlength') ||signinform.get('name').hasError('pattern') ||signinform.get('name').hasError('required') ) && signinform.get('name').touched">
      <div class="error" *ngIf="signinform.get('name').hasError('required') && signinform.get('name').touched">
        Please input your Name
      </div>
      <div class="error" *ngIf="signinform.get('name').hasError('minlength') && signinform.get('name').touched">
        Minimum 4 characters
      </div>
      <div class="error" *ngIf="signinform.get('name').hasError('maxlength') && signinform.get('name').touched">
        Maximum 30 characters
      </div>
      <div class="error" *ngIf="signinform.get('name').hasError('pattern') && signinform.get('name').touched">
        Just use alphabet character
      </div>
    </ion-item>



  <div class="spacer" style="height: 5px;"></div>
  <ion-item>
    
    <ion-input type="text" value="{{userDetails.location}}" [(ngModel)]="account.location" name="location" formControlName="location" [class.error]="!signinform.controls.location.valid && signinform.controls.location.dirty"></ion-input>
  </ion-item>
  
  <ion-item no-lines *ngIf="signinform.get('location').hasError('required')  && signinform.get('location').touched">
      <div class="error" *ngIf="signinform.get('location').hasError('required') && signinform.get('location').touched">
        Please Enter your City
      </div>
</ion-item>
  
  
  <div class="spacer" style="height: 5px;"></div>
  <ion-item>
    <ion-input type="number" value="{{userDetails.phone}}" [(ngModel)]="account.phone" formControlName="phone" [class.error1]="!signinform.controls.phone.valid && signinform.controls.phone.dirty"></ion-input>
  </ion-item>

  <ion-item no-lines *ngIf="( signinform.get('phone').hasError('minlength') || signinform.get('phone').hasError('maxlength') ||signinform.get('phone').hasError('required') ) && signinform.get('phone').touched">
    <div class="error" *ngIf="signinform.get('phone').hasError('required') && signinform.get('phone').touched">
      Please input your phone number
    </div>
    <div class="error" *ngIf="signinform.get('phone').hasError('minlength') && signinform.get('phone').touched">
      Plese input 11 digits
    </div>
    <div class="error" *ngIf="signinform.get('phone').hasError('maxlength') && signinform.get('phone').touched">
      Maximum 13 Numbers
    </div>
  </ion-item>


  <div class="spacer" style="height: 5px;"></div>
  <ion-item>
    <ion-input type="text" value="{{userDetails.state}}" [(ngModel)]="account.state" formControlName="state" [class.error]="!signinform.controls.state.valid && signinform.controls.state.dirty"></ion-input>
  </ion-item>

  <ion-item no-lines *ngIf="signinform.get('state').hasError('required')  && signinform.get('state').touched">
    <div class="error" *ngIf="signinform.get('state').hasError('required') && signinform.get('state').touched">
      Please Enter your State
    </div>
  </ion-item>

  <div class="spacer" style="height: 10px;"></div>
  <button type="submit" ion-button block round color="primary" [disabled]="signinform.invalid">Update</button>
</ion-list>
</form>

   
</ion-card-content>
</ion-content>